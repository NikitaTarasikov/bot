<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<style>

		.inner{
			display: flex;
			justify-content: space-between;
			flex-wrap: wrap;
		}
		.item{
			max-width: 30%;
			display: flex;
			flex-direction: column;
			align-items: center;
			margin-top: 10px;
		}
		.add {
			background: #ffc156;
			border: 1px solid #ffc156;
			padding: 5px 10px;
			font-weight: 700;
			margin-top: 10px;
			border-radius: 10px;
			color: #000;
			transition: all 0.5s;
			cursor: pointer;
		}
		.add:hover{
			background: transparent;
		}
		.container{
			max-width: 1200px;
			padding: 0 10px;
			margin: auto;
		}
		.text{
			display: flex;	
		}
		.price{
			margin-left:10px;
		}
		.title{
			font-weight: 700;
		}
		.order{
			background: #f7f7f7;
			width: 100%;
			height: 100%;
			position: fixed;
			z-index: 1;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			transition: all 0.3s;
		}
		.order.active{
			z-index: -1;
			opacity: 0;
		}
		.order-back{
			background: transparent;
			border: 0;
			padding: 0;
			margin: 0;
		}
		.order-inner__item{
			display: flex;
    		justify-content: space-between;
		}
		.order-inner__item-right,
		.order-inner__item-left{
			display: flex;
    		align-items: center;
		}
		.order-inner__item-text{
			display: flex;
			flex-direction: column;
			justify-content: center;
		}
		.order-inner__item-text h2{
			margin:0;
			display: flex;
		}
		.order-inner__item-text h2 .num{
			margin-left: 10px;
		}
		.order-inner__item-text p{
			margin: 10px 0 0 0;
		}
		.order-inner__item-img{
			display: flex;
			align-items: center;
			justify-content: center;
		}
		.order-top{
			display: flex;
			justify-content: space-between;
			align-items:center;
			height: 70px;
		}
		.order-edit{
			padding: 0;
			margin: 0;
			background: transparent;
			border: 0;
			font-weight: 700;
			font-size: 20px;
			color: #ffc156;
		}
		.order-back{
			padding: 0;
			margin: 0;
			background: transparent;
			border: 0;
			font-weight: 700;
			font-size: 20px;
			color: #000;
		}
		@media (max-width: 450px){
			.text {
				flex-direction: column;
				align-items: center;
			}
			.img img{
				max-width: 100%;
			}
			.item{
				max-width: 50%;
			}
		}
	</style>
	<div class="container">
		<div class="inner">
			<div class="item">
				<div class="img">
					<img src="img/potato.svg">
				</div>
				<div class="text">
					<div class="title">
						Картошка 1
					</div>
					<div class="price">
						<span>1</span> грн
					</div>
				</div>
				<div>
					<button class="add">Добавить</button>
				</div>
			</div>
						<div class="item">
							<div class="img">
								<img src="img/potato.svg">
							</div>
					<div class="text">
					<div class="title">
						Картошка 2
					</div>
					<div class="price">
						<span>2</span> грн
					</div>
				</div>
				<div>
					<button class="add">Добавить</button>
				</div>
			</div>
						<div class="item">
				<div class="img">
					<img src="img/potato.svg">
				</div>
				<div class="text">
					<div class="title">
						Картошка 3
					</div>
					<div class="price">
						<span>3</span> грн
					</div>
				</div>
				<div>
					<button class="add">Добавить</button>
				</div>
			</div>
		</div>
	</div>

	<div class="order active">
		<div class="container">
			<div class="order-top">
				<button class="order-back">
					Мои заказы
				</button>
				<button class="order-edit">
					Edit
				</button>
			</div>
		

		<div class="order-inner">
			<div class="order-inner__item">
				<div class="order-inner__item-left">
					<div class="order-inner__item-img">
						<img src="img/potato.svg">
					</div> 
					<div class="order-inner__item-text">
						<h2>
							Картошка <div class="num">x1</div>
						</h2>
						<p>
							Описание
						</p>
					</div>
				</div>
				<div class="order-inner__item-right">
					<div class="price">
						<span>
							1
						</span>
						грн
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
	<script src="https://telegram.org/js/telegram-web-app.js"></script>
	<script>
		

		let tg = window.Telegram.WebApp; //получаем объект webapp телеграма 
		let tgWeb = Telegram.WebApp;
		
		tg.MainButton.text = "Changed Text"; //изменяем текст кнопки 
		tg.MainButton.setText("Changed Text1"); //изменяем текст кнопки иначе
		tg.MainButton.textColor = "#000000"; //изменяем цвет текста кнопки
		tg.MainButton.color = "#ffffff"; //изменяем цвет бэкграунда кнопки
		tg.MainButton.setParams({"color": "#ffc156"}); //так изменяются все параметры

		const addBtn = document.querySelectorAll('.add');
		const card = document.querySelectorAll('.item');
		const price = document.querySelectorAll('.price span');
		const title = document.querySelectorAll('.title');
		
		//let priceAddArr =  Object.create(null);

		addBtn.forEach(function(item1, i1){
				item1.addEventListener('click', () => {
					title.forEach(function(item2, i2){
						if(i1 == i2){
							tg.MainButton.show() 
							tg.MainButton.setText(item2.innerText);
						}
				


			//item1.addEventListener('click', () => {
			//	price.forEach(function(item2, i2){
			//		if(i1 == i2){
			//			let href = i2;
			//			let price = Number(item2.innerText);
			//			priceAddArr[href] = price;
			//			console.log(item2)
						
			//		}
			//	})

					//tg.expand();
					//if (tg.MainButton.isVisible){ //если кнопка показана 
					//	tg.MainButton.hide() //скрываем кнопку 
					//}
					//else{ //иначе
					//	tg.MainButton.show() //показываем 
					//}
			})
		})
	})

	const order = document.querySelector('.order');

	tgWeb.onEvent('mainButtonClicked', () => {
		tg.expand();
		order.classList.remode('active')
	})

	
	const editBtn = document.querySelector('.order-edit');
	
	editBtn.addEventListener('click', () => {
		order.classList.add('active')
	})
	</script>
</body>
</html>
